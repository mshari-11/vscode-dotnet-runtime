# Location Link Tracker (consent-based)

هذا مشروع تجريبي بسيط يتيح لك إنشاء رابط ترسله لشخص ما. عند فتح الرابط سيطلب المتصفح إذن مشاركة الموقع؛ إذا وافق المستخدم يُرسَل إحداثيّاته إلى الخادم.

تنويه قانوني وأخلاقي
- لا تستخدم هذا المشروع لتتبع أي شخص بدون موافقته الصريحة. قد يكون ذلك غير قانوني ويعرضك للمساءلة.
- استخدمه فقط لأغراض شرعية (مثلاً: تتبع أفراد العائلة بعد موافقتهم، تسجيل مواقع الحضور في حدث بعد موافقة الحاضرين، اختبار تقني، ...).

تشغيل محلي (Windows PowerShell):

```powershell
# 1. تثبيت الاعتمادات
npm install

# 2. تشغيل الخادم محلياً
npm start

# 3. افتح الرابط الذي تريده، مثال:
# للرأي العام: http://localhost:3000/?id=alice123
# لعرض آخر موقع للمُعرف: http://localhost:3000/owner.html?id=alice123
```

كيفية العمل
- أرسل للهدف رابط: `https://your-server.example/?id=UNIQUE`.
- عندما يفتح الرابط، المتصفح سيطلب إذنه لمشاركة الموقع.
- بعد الموافقة، الصفحة سترسل الإحداثيات إلى `/report` على الخادم.
- يمكنك الاطلاع على أحدث إحداثيات عبر `owner.html?id=UNIQUE`.

نقاط تطوير مقترحة
- حفظ البيانات في قاعدة بيانات بدلاً من ملف JSON.
- إضافة مصادقة لصفحة "المالك".
- استخدام HTTPS في الاستضافة الحقيقية (المتصفحات تمنع geolocation في صفحات غير مؤمنة).

نشر سريع على Render (مقترح - الأسهل مع HTTPS تلقائي)
1. أنشئ مستودعاً على GitHub وأدفع (push) محتويات مجلد `/project` له.
2. سجّل دخولك إلى https://dashboard.render.com ثم اختر "New -> Web Service".
3. اختر الربط مع GitHub وادخل المستودع الذي أنشأته.
4. اترك الحقول الافتراضية، وتأكد أن Build Command فارغ و Start Command = `node server.js` أو اتركها لأننا أضفنا `Procfile`.
5. اضغط Deploy. بعد النشر ستحصل على رابط HTTPS يمكنك إرساله للآخرين، مثال: `https://my-app.onrender.com/?id=alice123`.

ملاحظات هامة بعد النشر
- التخزين في `reports.json` على منصات مثل Render قد يكون عرضة لإعادة الإنشاء (ephemeral) عند إعادة النشر أو إعادة التشغيل. لاستعمال دائم، ربط قاعدة بيانات (Postgres, MongoDB)، أو خدمة تخزين سحابية.
- تأكد من أن الصفحة التي تطلب الموقع تعمل عبر HTTPS لأن معظم المتصفحات تمنع Geolocation على HTTP.

إذا تريد، أستطيع: (أ) أوجّهك خطوة بخطوة لربط المستودع على GitHub ونشر إلى Render، أو (ب) أجهز ملف ZIP جاهز للرفع يدوياً، أو (ج) أضيف SQLite وواجهة بسيطة مع مصادقة قبل النشر.
